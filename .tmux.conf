# Start windows and panes at 1, not 0
set-option -g renumber-window on
set -g base-index 1
setw -g pane-base-index 1
set -g history-limit 10000

# Color fixing
# set-option default-terminal "screen-256color"
# set-option -ga terminal-overrides ',xterm-256color:Tc'
# set-option -a terminal-features 'foot:RGB'

## For Alacritty
# set -g default-terminal "alacritty"
# set-option -ga terminal-overrides ",alacritty:Tc"
# set -as terminal-features ',alacritty*:RGB'

# Fix backspace not working for macOS
set -g default-terminal "xterm-256color"

# Disable Ctrl+d (unbind it)
unbind C-d
# Bind a custom action for Ctrl+d if you need
bind C-d send-keys C-d

bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# remap prefix
unbind C-b
set -g prefix `
bind ` send-prefix

# Fix ctrl+i
# set-option -g xterm-keys on
set -s extended-keys on
set -as terminal-features 'xterm*:extkeys'

# open a new window in the current directory
bind C new-window -c "#{pane_current_path}"
# open a new pane in the current directory
bind % split-window -h -c "#{pane_current_path}"

# fix clipboard
set -g set-clipboard on

# Yazi image preview
set -g allow-passthrough on
set -ga update-environment TERM
set -ga update-environment TERM_PROGRAM

